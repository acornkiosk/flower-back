<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="menu">

	<!-- 등록 -->
   <insert id="insert" parameterType="menuDto">
      INSERT INTO menu
      (id,name,price <if test="img_name != null">,img_name</if>,summary,description,is_sold,category_id)
      VALUES(seq_menu_id.NEXTVAL,#{name},#{price}<if test="img_name != null">,#{img_name}</if>,#{summary},#{description},'false',#{category_id})
   </insert>

	
	<!-- 전체 or 카테고리별 메뉴 리스트-->
   <select id="getList" parameterType="menuDto" resultType="menuDto">
      SELECT id,name,price,img_name,summary,description,is_sold,category_id
      FROM menu
      <if test="category_id != 0">
	    WHERE category_id = #{category_id}
	  </if>
   </select>
   
   
   
  

</mapper>